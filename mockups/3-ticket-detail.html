<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticket Detail - Customer Support</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/lucide@latest">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-gray-50">
    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <aside class="w-64 bg-gray-900 text-white">
            <div class="p-6">
                <h1 class="text-xl font-bold flex items-center gap-2">
                    <i data-lucide="message-square" class="w-6 h-6"></i>
                    SupportHub
                </h1>
            </div>
            <nav class="mt-6">
                <a href="1-dashboard.html" class="flex items-center gap-3 px-6 py-3 text-gray-400 hover:bg-gray-800">
                    <i data-lucide="layout-dashboard" class="w-5 h-5"></i>
                    Dashboard
                </a>
                <a href="2-tickets.html" class="flex items-center gap-3 px-6 py-3 bg-gray-800 border-l-4 border-blue-500">
                    <i data-lucide="ticket" class="w-5 h-5"></i>
                    Tickets
                </a>
                <a href="6-customers.html" class="flex items-center gap-3 px-6 py-3 text-gray-400 hover:bg-gray-800">
                    <i data-lucide="users" class="w-5 h-5"></i>
                    Customers
                </a>
                <a href="5-agent-performance.html" class="flex items-center gap-3 px-6 py-3 text-gray-400 hover:bg-gray-800">
                    <i data-lucide="bar-chart-3" class="w-5 h-5"></i>
                    Performance
                </a>
                <a href="7-settings.html" class="flex items-center gap-3 px-6 py-3 text-gray-400 hover:bg-gray-800">
                    <i data-lucide="settings" class="w-5 h-5"></i>
                    Settings
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 flex flex-col">
            <!-- Header -->
            <header class="bg-white border-b px-8 py-4 flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <a href="2-tickets.html" class="p-2 hover:bg-gray-100 rounded-lg">
                        <i data-lucide="arrow-left" class="w-5 h-5 text-gray-600"></i>
                    </a>
                    <div>
                        <h2 class="text-xl font-bold text-gray-800">Unable to connect my account to Google</h2>
                        <p class="text-gray-500 text-sm">Ticket #T-1234 â€¢ Created 2 hours ago</p>
                    </div>
                </div>
                <div class="flex items-center gap-3">
                    <button class="px-4 py-2 border rounded-lg hover:bg-gray-50 flex items-center gap-2">
                        <i data-lucide="sparkles" class="w-4 h-4 text-purple-600"></i>
                        AI Summarize
                    </button>
                    <button class="px-4 py-2 border rounded-lg hover:bg-gray-50 flex items-center gap-2">
                        <i data-lucide="lightbulb" class="w-4 h-4 text-amber-500"></i>
                        Suggest Reply
                    </button>
                </div>
            </header>

            <div class="flex-1 flex">
                <!-- Messages Area -->
                <div class="flex-1 flex flex-col">
                    <!-- AI Summary Bar -->
                    <div class="bg-gradient-to-r from-purple-50 to-blue-50 border-b px-8 py-4">
                        <div class="flex items-start gap-3">
                            <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                <i data-lucide="sparkles" class="w-4 h-4 text-purple-600"></i>
                            </div>
                            <div>
                                <p class="font-medium text-sm text-gray-800">AI Summary</p>
                                <p class="text-sm text-gray-600 mt-1">Customer is having trouble connecting their Google account. OAuth error occurs during callback. They've already tried clearing cache and cookies.</p>
                            </div>
                            <button class="ml-auto text-gray-400 hover:text-gray-600">
                                <i data-lucide="x" class="w-4 h-4"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Messages -->
                    <div class="flex-1 overflow-y-auto p-8 space-y-6">
                        <!-- Customer Message -->
                        <div class="flex gap-4">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=John" class="w-10 h-10 rounded-full">
                            <div class="flex-1">
                                <div class="flex items-center gap-2 mb-1">
                                    <span class="font-medium">John Doe</span>
                                    <span class="text-sm text-gray-500">2 hours ago</span>
                                    <span class="w-2 h-2 bg-yellow-500 rounded-full" title="Neutral sentiment"></span>
                                </div>
                                <div class="bg-white border rounded-xl p-4">
                                    <p>Hi, I've been trying to connect my Google account but I keep getting an error. The OAuth callback seems to fail every time. I've already tried clearing my browser cache and cookies but nothing works.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Agent Message -->
                        <div class="flex gap-4">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Sarah" class="w-10 h-10 rounded-full">
                            <div class="flex-1">
                                <div class="flex items-center gap-2 mb-1">
                                    <span class="font-medium">Sarah Wilson (You)</span>
                                    <span class="text-sm text-gray-500">1 hour ago</span>
                                </div>
                                <div class="bg-blue-50 border border-blue-200 rounded-xl p-4">
                                    <p>Hi John! I'm sorry to hear you're having trouble. Could you please share the exact error message you're seeing? This will help me diagnose the issue faster.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Customer Message -->
                        <div class="flex gap-4">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=John" class="w-10 h-10 rounded-full">
                            <div class="flex-1">
                                <div class="flex items-center gap-2 mb-1">
                                    <span class="font-medium">John Doe</span>
                                    <span class="text-sm text-gray-500">30 min ago</span>
                                    <span class="w-2 h-2 bg-green-500 rounded-full" title="Positive sentiment"></span>
                                </div>
                                <div class="bg-white border rounded-xl p-4">
                                    <p>Sure! Here's the error:</p>
                                    <p class="mt-2 bg-gray-100 p-3 rounded font-mono text-sm">Error: redirect_uri_mismatch</p>
                                    <p class="mt-2">The redirect URL in my Google Cloud Console is set to https://myapp.com/callback but it says it doesn't match.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Reply Editor -->
                    <div class="border-t bg-white p-6">
                        <div class="border rounded-xl focus-within:ring-2 focus-within:ring-blue-500">
                            <div class="flex items-center gap-2 px-4 py-2 border-b bg-gray-50">
                                <button class="p-1 hover:bg-gray-200 rounded"><i data-lucide="bold" class="w-4 h-4"></i></button>
                                <button class="p-1 hover:bg-gray-200 rounded"><i data-lucide="italic" class="w-4 h-4"></i></button>
                                <button class="p-1 hover:bg-gray-200 rounded"><i data-lucide="link" class="w-4 h-4"></i></button>
                                <button class="p-1 hover:bg-gray-200 rounded"><i data-lucide="list" class="w-4 h-4"></i></button>
                                <button class="p-1 hover:bg-gray-200 rounded"><i data-lucide="code" class="w-4 h-4"></i></button>
                            </div>
                            <textarea class="w-full p-4 min-h-24 focus:outline-none resize-none" placeholder="Type your reply..."></textarea>
                        </div>
                        <div class="flex items-center justify-between mt-4">
                            <button class="flex items-center gap-2 text-purple-600 hover:text-purple-700">
                                <i data-lucide="lightbulb" class="w-4 h-4"></i>
                                Generate AI Reply
                            </button>
                            <button class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2">
                                <i data-lucide="send" class="w-4 h-4"></i>
                                Send Reply
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Sidebar - Ticket Details -->
                <aside class="w-80 border-l bg-white p-6 overflow-y-auto">
                    <!-- Status & Priority -->
                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-500 mb-3">Status</h3>
                        <select class="w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option selected>Open</option>
                            <option>In Progress</option>
                            <option>Waiting</option>
                            <option>Resolved</option>
                            <option>Closed</option>
                        </select>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-500 mb-3">Priority</h3>
                        <select class="w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option>Low</option>
                            <option selected>Medium</option>
                            <option>High</option>
                            <option>Urgent</option>
                        </select>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-500 mb-3">AI Suggested Priority</h3>
                        <div class="flex items-center gap-2 p-3 bg-purple-50 rounded-lg border border-purple-200">
                            <i data-lucide="sparkles" class="w-4 h-4 text-purple-600"></i>
                            <span class="text-sm">High</span>
                            <button class="ml-auto text-xs bg-purple-600 text-white px-2 py-1 rounded">Apply</button>
                        </div>
                    </div>

                    <!-- Assigned Agent -->
                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-500 mb-3">Assigned To</h3>
                        <select class="w-full border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option>Unassigned</option>
                            <option selected>Sarah Wilson (You)</option>
                            <option>Mike Johnson</option>
                            <option>Alex Chen</option>
                        </select>
                    </div>

                    <!-- Customer Info -->
                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-500 mb-3">Customer</h3>
                        <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=John" class="w-10 h-10 rounded-full">
                            <div>
                                <p class="font-medium">John Doe</p>
                                <p class="text-sm text-gray-500">john.doe@email.com</p>
                            </div>
                        </div>
                    </div>

                    <!-- Category -->
                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-500 mb-3">Category</h3>
                        <div class="flex items-center gap-2">
                            <span class="px-3 py-1 bg-blue-100 text-blue-700 text-sm rounded-full">Integration</span>
                            <span class="text-xs text-purple-600">AI-categorized</span>
                        </div>
                    </div>

                    <!-- Tags -->
                    <div class="mb-6">
                        <div class="flex items-center justify-between mb-3">
                            <h3 class="text-sm font-medium text-gray-500">Tags</h3>
                            <button class="text-blue-600 text-xs hover:underline">+ Add</button>
                        </div>
                        <div class="flex flex-wrap gap-2">
                            <span class="inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full">
                                bug
                                <button class="hover:bg-red-200 rounded-full p-0.5">
                                    <i data-lucide="x" class="w-3 h-3"></i>
                                </button>
                            </span>
                            <span class="inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full">
                                oauth
                                <button class="hover:bg-blue-200 rounded-full p-0.5">
                                    <i data-lucide="x" class="w-3 h-3"></i>
                                </button>
                            </span>
                            <span class="inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-500 text-xs rounded-full border border-dashed hover:bg-gray-200 cursor-pointer">
                                <i data-lucide="plus" class="w-3 h-3"></i>
                                Add tag
                            </span>
                        </div>
                        <div class="mt-3">
                            <input type="text" placeholder="Type to search tags..." class="w-full text-sm border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <div class="mt-2 text-xs text-gray-400">Common: billing, feature, urgent, refund</div>
                        </div>
                    </div>

                    <!-- Sentiment -->
                    <div class="mb-6">
                        <h3 class="text-sm font-medium text-gray-500 mb-3">Sentiment</h3>
                        <div class="flex items-center gap-2">
                            <div class="flex-1 bg-gray-200 rounded-full h-2">
                                <div class="bg-green-500 h-2 rounded-full" style="width: 65%"></div>
                            </div>
                            <span class="text-sm font-medium text-green-600">Positive</span>
                        </div>
                        <p class="text-xs text-gray-500 mt-1">Score: 0.65 (improved from -0.2)</p>
                    </div>

                    <!-- AI Activity -->
                    <div>
                        <h3 class="text-sm font-medium text-gray-500 mb-3">AI Activity</h3>
                        <div class="space-y-2">
                            <div class="flex items-center gap-2 text-sm">
                                <i data-lucide="sparkles" class="w-4 h-4 text-purple-500"></i>
                                <span>Summary generated</span>
                                <span class="ml-auto text-gray-400">2h ago</span>
                            </div>
                            <div class="flex items-center gap-2 text-sm">
                                <i data-lucide="tag" class="w-4 h-4 text-blue-500"></i>
                                <span>Categorized as "Integration"</span>
                                <span class="ml-auto text-gray-400">2h ago</span>
                            </div>
                            <div class="flex items-center gap-2 text-sm">
                                <i data-lucide="smile" class="w-4 h-4 text-green-500"></i>
                                <span>Sentiment analyzed</span>
                                <span class="ml-auto text-gray-400">30m ago</span>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </main>
    </div>

    <script>lucide.createIcons();</script>
</body>
</html>
